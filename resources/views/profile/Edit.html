<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Update Profile</title>
  <link rel="stylesheet" href="Edit.css" />
</head>
<body>
  <div class="container">
    <aside class="sidebar" aria-label="Sidebar navigation">
    <div class="logo">
        <img src="picture/logo.png" alt="Today's Classes Icon" />
    </div>  
      <button title="Today's Classes" type="button" class="active">
        <img src="picture/today's classes.png" alt="Today's Classes Icon" />
        <span class="sidebar-label">Today's Classes</span>
      </button>
      <button title="Calendar" type="button">
        <img src="picture/calender.png" alt="Calendar Icon" />
        <span class="sidebar-label">Calendar</span>
      </button>
      <button title="Task" type="button">
        <img src="picture/task.png" alt="Task Icon" />
        <span class="sidebar-label">Task</span>
      </button>
      <button title="Friends" type="button">
        <img src="picture/friends.png" alt="Friends Icon" />
        <span class="sidebar-label">Friends</span>
      </button>
      <button title="Reminder" type="button">
        <img src="picture/reminder.png" alt="Reminder Icon" />
        <span class="sidebar-label">Reminder</span>
      </button>

    <div class="home">
      <button title="Back Home" type="button">
        <img src="picture/home.png" alt="Back Home Icon" />
        <span class="sidebar-label">Back Home</span>
      </button>
    </div>
    </aside>

    <main class="main-content" role="main" aria-label="Update Profile Form">
      <section class="header">
        <h2>Update Profile</h2>
        <p>Manage your account information and passwords.</p>
      </section>

      <section class="profile-card" aria-label="Profile update form">
        <div class="profile-image">
          <img id="profilePreview" src="picture/profile1.jpg" alt="">
          <div class="photo-buttons">

            <!-- ID SUDAH DITAMBAHKAN DI SINI -->
            <button id="btn-change-photo" class="btn-change-photo" type="button">
              Change Photo
            </button>

            <button class="btn-delete-photo" type="button" disabled>Delete Photo</button>
          </div>
        </div>

        <form>
          <div class="gender-select">
            <label for="male">Male
              <input type="radio" id="male" name="gender" value="male" />
            </label>
            <label for="female">Female
              <input type="radio" id="female" name="gender" value="female" checked />
            </label>
          </div>

          <div class="form-grid">
            <div class="form-group">
              <label for="first-name">First Name</label>
              <input id="first-name" type="text" value="Vica" />
            </div>
            <div class="form-group">
              <label for="last-name">Last Name</label>
              <input id="last-name" type="text" value="Allistya" />
            </div>

            <div class="form-group full-width">
              <label for="email">Email</label>
              <input id="email" type="email" value="vicaallistya@gmail.com" />
            </div>

            <div class="form-group full-width">
              <label for="address">Address</label>
              <input id="address" type="text" readonly value="Jl. Pandanaran II No.12, Kelurahan Mugassari, Kecamatan Semarang Selatan, Kota Semarang." />
            </div>

            <div class="form-group">
              <label for="phone">Phone Number</label>
              <input id="phone" type="text" readonly value="(+62) 858-6715-2305" />
            </div>
            <div class="form-group">
              <label for="dob">Date of Birth</label>
              <input id="dob" type="text" readonly value="24 Maret, 2009" />
            </div>

            <div class="form-group">
              <label for="school">School</label>
              <input id="school" type="text" readonly value="SMK Negeri 8 Semarang" />
            </div>
            <div class="form-group">
              <label for="class">Class</label>
              <input id="class" type="text" readonly value="XI PPLG 3" />
            </div>
          </div>

          <div class="form-buttons">
            <button type="button" class="btn-discard">Discard Changes</button>
            <button type="submit" class="btn-save">Save Changes</button>
          </div>
        </form>
      </section>
    </main>
  </div>

  <div id="photoModal" class="modal">
        <div class="modal-content">
            <div class="modal-options">
                
                <button class="modal-option-button" onclick="selectOption('Pilih dari galeri')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <circle cx="8.5" cy="8.5" r="1.5"></circle>
                        <polyline points="21 15 16 10 5 21"></polyline>
                    </svg>
                    <span>Choose from library</span>
                </button>

                <button class="modal-option-button" onclick="selectOption('Ambil Foto')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"></path>
                        <circle cx="12" cy="13" r="3"></circle>
                      </svg>
                    <span>Take Photo</span>
                </button>
            </div>
        </div>
    </div>  

    <div id="messageBox">
        Ini adalah pesan Anda.
    </div>

    <script>
        const modal = document.getElementById('photoModal');

        // ID sudah sesuai
        const changePhotoBtn = document.getElementById('btn-change-photo');

        const messageBox = document.getElementById('messageBox');

        function showMessage(message) {
            messageBox.textContent = message;
            messageBox.style.opacity = '1';
            messageBox.style.transform = 'translateY(0)';
            
            setTimeout(() => {
                messageBox.style.opacity = '0';
                messageBox.style.transform = 'translateY(10px)';
            }, 3000);
        }

        changePhotoBtn.addEventListener('click', () => {
            modal.classList.add('show');
        });

        modal.addEventListener('click', (e) => {
            if (e.target.id === 'photoModal') {
                modal.classList.remove('show');
            }
        });

        function selectOption(optionName) {
    modal.classList.remove('show');

    if (optionName === 'Pilih dari galeri') {
        window.location.href = 'photos.html';   // pindah ke halaman galeri
    }

    if (optionName === 'Ambil Foto') {
        window.location.href = 'camera.html';   // pindah ke halaman kamera
    }
}

        function handleSave(event) {
            event.preventDefault();
            showMessage('Perubahan Profil disimpan!');
        }

        document.addEventListener('DOMContentLoaded',function() {
            let selected = localStorage.getItem('selectedProfilePhoto');
            console.log("Selected from storage:", selected);

            if (selected) {
                document.getElementById('profilePreview').src = selected;
            }
        });
    </script>
</body>
</html>
